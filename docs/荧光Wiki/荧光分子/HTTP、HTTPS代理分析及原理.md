# HTTP/HTTPS代理

## HTTP代理的原理

代理服务器会自动提取请求数据包中的`HTTP请求数据`发送给服务端，并服务端的`HTTP响应数据`转发给发送请求的客户端，HTTP代理服务器使用的端口通常是8080。

-   对于Web客户端来说，代理扮演的服务器角色，接收请求（Request），返回响应（Response）。
-   对于Web服务器来说，代理扮演的客户端角色，发送请求（Request），接收响应（Response）。

### HTTP 代理步骤

-   `客户端`向`代理`发起`TCP连接`；
-   代理接收客户端的连接，双方`建立连接`；
-   `客户端`向`代理`发送`HTTP请求`，请求内容和没有HTTP代理的内容完全相同；
-   代理`解析HTTP请求`；
-   `代理`向`服务器`发起`TCP连接`；
-   `服务器`接收`代理`的连接；
-   `代理`向`服务器`发送`HTTP`请求（这个HTTP请求是基于用户的HTTP请求，`可能会有修改`）
-   `服务器`发送`响应`给`代理`；
-   `代理`发送`响应`给发送请求的`客户端`；

