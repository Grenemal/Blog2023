### 实现形式

- 使用命名空间

```javascript
// 命名空间
let MyApp = {
  event: {},
  dom: {
    style: {},
  },
};
```

- 使用闭包
  - 私有变量
  - 暴露方法

```javascript
// 使用闭包
let MyApp = (function () {
  let _event = {};
  let _dom = {
    style: {},
  };
  return {
    getDOM: () => {
      return _dom;
    },
    getEvent: (eventName) => {
      return _event[eventName];
    },
  };
})();
```

### 惰性单例

- 需要的时候才创建

```javascript
// 惰性单例
const getSingle = (fn) => {
  let instance;
  // 注意此处返回函数而不是直接返回实例
  return function () {
    return instance || (instance = fn.apply(this, arguments));
  };
};

let createApp = function () {
  let _event = {};
  let _dom = {
    style: {},
  };
  return {
    getDOM: () => {
      return _dom;
    },
    getEvent: (eventName) => {
      return _event[eventName];
    },
  };
};

const createSingleApp = getSingle(createApp);

let app1 = createSingleApp();
let app2 = createSingleApp();

console.log(app1 === app2); // true
```

### 适用场景

1.  引用第三方库
2.  弹窗 Toast
3.  购物车
4.  全局态管理 store
